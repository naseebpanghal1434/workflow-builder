/**
 * @fileoverview Global styles and CSS variables for Weavy workflow builder
 * @module Styles/Globals
 */

@tailwind base;
@tailwind components;
@tailwind utilities;

/* ============================================
   CSS VARIABLES
   ============================================ */
:root {
  /* Background Colors */
  --bg-canvas: #0E0E13;
  --bg-node: #212126;
  --bg-node-selected: #2B2B2F;
  --bg-button-active: #FAFFC7;

  /* Handle Colors */
  --handle-text: #F1A0FA;
  --handle-image: #6EDDB3;
  --handle-file: #FFFFFF;

  /* Text Colors */
  --text-primary: rgba(255, 255, 255, 0.8);
  --text-secondary: rgba(255, 255, 255, 0.64);
  --text-disabled: rgba(255, 255, 255, 0.4);

  /* Border Colors */
  --border-subtle: rgba(255, 255, 255, 0.04);
  --border-light: rgba(255, 255, 255, 0.08);
  --border-medium: rgba(255, 255, 255, 0.16);
  --border-strong: rgba(255, 255, 255, 0.4);

  /* Other */
  --dot-grid: #65616b;
  --edge-color: #F1A0FA;

  /* Dimensions */
  --sidebar-collapsed: 56px;
  --sidebar-expanded: 280px;
  --node-width: 460px;
  --header-height: 56px;
  --toolbar-height: 48px;
  --panel-width: 280px;
  --handle-size: 32px;
  --handle-border: 8px;
}

/* ============================================
   BASE STYLES
   ============================================ */
html,
body {
  height: 100%;
  overflow: hidden;
  background-color: var(--bg-canvas);
  color: var(--text-primary);
}

/* ============================================
   REACT FLOW OVERRIDES
   ============================================ */
.react-flow__background {
  background-color: var(--bg-canvas) !important;
}

.react-flow__minimap {
  background-color: var(--bg-node) !important;
  border: 1px solid var(--border-light) !important;
  border-radius: 4px !important;
}

/* Edge styles are set dynamically based on source node type */
.react-flow__edge-path {
  stroke-width: 2px;
}

.react-flow__handle {
  width: var(--handle-size) !important;
  height: var(--handle-size) !important;
  border-radius: 100% !important;
  border: var(--handle-border) solid var(--bg-node) !important;
}

/* ============================================
   UTILITY CLASSES
   ============================================ */

/* Checkered background for image preview */
.checkered-bg {
  background-color: #1a1a1a;
  background-image:
    linear-gradient(45deg, #2a2a2a 25%, transparent 25%),
    linear-gradient(-45deg, #2a2a2a 25%, transparent 25%),
    linear-gradient(45deg, transparent 75%, #2a2a2a 75%),
    linear-gradient(-45deg, transparent 75%, #2a2a2a 75%);
  background-size: 20px 20px;
  background-position: 0 0, 0 10px, 10px -10px, -10px 0px;
}

/* Scrollbar styling */
::-webkit-scrollbar {
  width: 8px;
  height: 8px;
}

::-webkit-scrollbar-track {
  background: transparent;
}

::-webkit-scrollbar-thumb {
  background: rgba(255, 255, 255, 0.2);
  border-radius: 4px;
}

::-webkit-scrollbar-thumb:hover {
  background: rgba(255, 255, 255, 0.3);
}

/* Focus styles */
*:focus-visible {
  outline: 2px solid var(--handle-text);
  outline-offset: 2px;
}

/* Selection color */
::selection {
  background: rgba(241, 160, 250, 0.3);
}
